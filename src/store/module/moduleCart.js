const state = {
  /**
   * Danh sách sản phẩm trong giỏ hàng
   */
  products: [{
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130002',
    quantity: 2,
    quantity_max: 50,
    sale_price: 100000,
    color_name: 'Đen',
    size_name: 'XL',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo khoác gió',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
  {
    product_detail_id: '5ea82b6c-5c50-11ed-90ec-0242ac130003',
    quantity: 3,
    quantity_max: 50,
    sale_price: 200000,
    color_name: 'Trắng',
    size_name: 'M',
    img_url: 'https://i.picsum.photos/id/237/200/300.jpg?hmac=TmmQSbShHz9CdQm0NkEjx1Dyh_Y984R9LpNrpvH2D_U',
    product_name: 'Áo Len',
  },
],
  cart_id: null
};
const getters = {
  countProduct(state) {
    return state.products.length;
  }
};
const actions = {
  updateCart(context, products) {
    context.commit('updateCart', products);
  },
  insertProduct(context, product) {
    if (state.products.some(x => x.product_detail_id == product.product_detail_id)) {
      context.commit('updateQuatityProduct', product);
    } else {
      context.commit('insertProduct', product);
    }
  }
};
const mutations = {
  updateCart(state, products) {
    state.products = products;
  },
  insertProduct(state, product) {
    state.products.push(product);
  },
  updateQuatityProduct(state, product) {
    let data = state.products.find(x => x.product_detail_id == product.product_detail_id);
    if (data) {
      data.quantity += 1;
    }
  },
};

export default {
  state,
  mutations,
  actions,
  getters,
  namespaced: true,
}